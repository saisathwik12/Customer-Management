{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\Customer Management\\\\consumer_frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport axios from 'axios';\nlet RegisterComponent = class RegisterComponent {\n  constructor(fb, router) {\n    this.fb = fb;\n    this.router = router;\n    this.loading = false;\n    this.errorMsg = '';\n    this.registerForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      if (_this.registerForm.invalid) return;\n      _this.loading = true;\n      _this.errorMsg = '';\n\n      try {\n        const res = yield axios.post('http://localhost:4000/api/auth/register', _this.registerForm.value);\n\n        if (res.data.success) {\n          alert('Registration successful! Please login.');\n\n          _this.router.navigate(['/login']);\n        } else {\n          _this.errorMsg = res.data.message || 'Registration failed';\n        }\n      } catch (err) {\n        _this.errorMsg = ((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Server error. Try again.';\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n\n  ngOnInit() {}\n\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"sources":["C:/Users/Hp/Desktop/Customer Management/consumer_frontend/src/app/auth/register/register.component.ts"],"names":["__decorate","Component","Validators","axios","RegisterComponent","constructor","fb","router","loading","errorMsg","registerForm","group","name","required","minLength","email","password","onSubmit","_a","_b","invalid","res","post","value","data","success","alert","navigate","message","err","response","ngOnInit","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAIC,iBAAiB,GAAG,MAAMA,iBAAN,CAAwB;AAC5CC,EAAAA,WAAW,CAACC,EAAD,EAAKC,MAAL,EAAa;AACpB,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,YAAL,GAAoB,KAAKJ,EAAL,CAAQK,KAAR,CAAc;AAC9BC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAACV,UAAU,CAACW,QAAZ,EAAsBX,UAAU,CAACY,SAAX,CAAqB,CAArB,CAAtB,CAAL,CADwB;AAE9BC,MAAAA,KAAK,EAAE,CAAC,EAAD,EAAK,CAACb,UAAU,CAACW,QAAZ,EAAsBX,UAAU,CAACa,KAAjC,CAAL,CAFuB;AAG9BC,MAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,CAACd,UAAU,CAACW,QAAZ,EAAsBX,UAAU,CAACY,SAAX,CAAqB,CAArB,CAAtB,CAAL;AAHoB,KAAd,CAApB;AAKH;;AACKG,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,UAAIC,EAAJ,EAAQC,EAAR;;AACA,UAAI,KAAI,CAACT,YAAL,CAAkBU,OAAtB,EACI;AACJ,MAAA,KAAI,CAACZ,OAAL,GAAe,IAAf;AACA,MAAA,KAAI,CAACC,QAAL,GAAgB,EAAhB;;AACA,UAAI;AACA,cAAMY,GAAG,SAASlB,KAAK,CAACmB,IAAN,CAAW,yCAAX,EAAsD,KAAI,CAACZ,YAAL,CAAkBa,KAAxE,CAAlB;;AACA,YAAIF,GAAG,CAACG,IAAJ,CAASC,OAAb,EAAsB;AAClBC,UAAAA,KAAK,CAAC,wCAAD,CAAL;;AACA,UAAA,KAAI,CAACnB,MAAL,CAAYoB,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH,SAHD,MAIK;AACD,UAAA,KAAI,CAAClB,QAAL,GAAgBY,GAAG,CAACG,IAAJ,CAASI,OAAT,IAAoB,qBAApC;AACH;AACJ,OATD,CAUA,OAAOC,GAAP,EAAY;AACR,QAAA,KAAI,CAACpB,QAAL,GAAgB,CAAC,CAACU,EAAE,GAAG,CAACD,EAAE,GAAGW,GAAG,CAACC,QAAV,MAAwB,IAAxB,IAAgCZ,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACM,IAAlE,MAA4E,IAA5E,IAAoFL,EAAE,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,EAAE,CAACS,OAAjH,KAA6H,0BAA7I;AACH,OAZD,SAaQ;AACJ,QAAA,KAAI,CAACpB,OAAL,GAAe,KAAf;AACH;AArBY;AAsBhB;;AACDuB,EAAAA,QAAQ,GAAG,CACV;;AApC2C,CAAhD;AAsCA3B,iBAAiB,GAAGJ,UAAU,CAAC,CAC3BC,SAAS,CAAC;AACN+B,EAAAA,QAAQ,EAAE,cADJ;AAENC,EAAAA,WAAW,EAAE,2BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,2BAAD;AAHL,CAAD,CADkB,CAAD,EAM3B9B,iBAN2B,CAA9B;AAOA,SAASA,iBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { Validators } from '@angular/forms';\r\nimport axios from 'axios';\r\nlet RegisterComponent = class RegisterComponent {\r\n    constructor(fb, router) {\r\n        this.fb = fb;\r\n        this.router = router;\r\n        this.loading = false;\r\n        this.errorMsg = '';\r\n        this.registerForm = this.fb.group({\r\n            name: ['', [Validators.required, Validators.minLength(2)]],\r\n            email: ['', [Validators.required, Validators.email]],\r\n            password: ['', [Validators.required, Validators.minLength(6)]]\r\n        });\r\n    }\r\n    async onSubmit() {\r\n        var _a, _b;\r\n        if (this.registerForm.invalid)\r\n            return;\r\n        this.loading = true;\r\n        this.errorMsg = '';\r\n        try {\r\n            const res = await axios.post('http://localhost:4000/api/auth/register', this.registerForm.value);\r\n            if (res.data.success) {\r\n                alert('Registration successful! Please login.');\r\n                this.router.navigate(['/login']);\r\n            }\r\n            else {\r\n                this.errorMsg = res.data.message || 'Registration failed';\r\n            }\r\n        }\r\n        catch (err) {\r\n            this.errorMsg = ((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Server error. Try again.';\r\n        }\r\n        finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n    ngOnInit() {\r\n    }\r\n};\r\nRegisterComponent = __decorate([\r\n    Component({\r\n        selector: 'app-register',\r\n        templateUrl: './register.component.html',\r\n        styleUrls: ['./register.component.scss']\r\n    })\r\n], RegisterComponent);\r\nexport { RegisterComponent };\r\n"]},"metadata":{},"sourceType":"module"}