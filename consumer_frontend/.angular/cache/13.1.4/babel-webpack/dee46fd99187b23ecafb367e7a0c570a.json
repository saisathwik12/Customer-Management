{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\Customer Management\\\\consumer_frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(auth, router, toastr) {\n    this.auth = auth;\n    this.router = router;\n    this.toastr = toastr;\n    this.email = '';\n    this.password = '';\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      try {\n        yield _this.auth.login(_this.email, _this.password);\n\n        _this.toastr.success('Login successful');\n\n        _this.router.navigate(['/customers']);\n      } catch (err) {\n        _this.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Login failed');\n      }\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[1, \"container\", \"mt-5\"], [3, \"ngSubmit\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", 1, \"form-control\", \"mb-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"mb-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h2\");\n      i0.ɵɵtext(2, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(4, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵtext(7, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/Hp/Desktop/Customer Management/consumer_frontend/src/app/auth/login/login.component.ts"],"names":["i0","i1","i2","i3","i4","LoginComponent","constructor","auth","router","toastr","email","password","login","_a","_b","success","navigate","err","error","response","data","message","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","AuthService","Router","ToastrService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_ngSubmit_3_listener","LoginComponent_Template_input_ngModelChange_4_listener","$event","LoginComponent_Template_input_ngModelChange_5_listener","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","encapsulation"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../auth.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"ngx-toastr\";\r\nimport * as i4 from \"@angular/forms\";\r\nexport class LoginComponent {\r\n    constructor(auth, router, toastr) {\r\n        this.auth = auth;\r\n        this.router = router;\r\n        this.toastr = toastr;\r\n        this.email = '';\r\n        this.password = '';\r\n    }\r\n    async login() {\r\n        var _a, _b;\r\n        try {\r\n            await this.auth.login(this.email, this.password);\r\n            this.toastr.success('Login successful');\r\n            this.router.navigate(['/customers']);\r\n        }\r\n        catch (err) {\r\n            this.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Login failed');\r\n        }\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 8, vars: 2, consts: [[1, \"container\", \"mt-5\"], [3, \"ngSubmit\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", 1, \"form-control\", \"mb-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"mb-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"h2\");\r\n        i0.ɵɵtext(2, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"form\", 1);\r\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() { return ctx.login(); });\r\n        i0.ɵɵelementStart(4, \"input\", 2);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) { return ctx.email = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"input\", 3);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) { return ctx.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"button\", 4);\r\n        i0.ɵɵtext(7, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\r\n    } }, directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}