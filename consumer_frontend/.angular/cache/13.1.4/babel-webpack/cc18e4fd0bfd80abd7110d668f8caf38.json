{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\Customer Management\\\\consumer_frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nconst API = 'http://localhost:4000/api/auth';\nexport class AuthService {\n  constructor() {\n    this.tokenKey = 'token';\n  }\n\n  login(email, password) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const res = yield axios.post(`${API}/login`, {\n        email,\n        password\n      });\n      localStorage.setItem(_this.tokenKey, res.data.token);\n      return res.data;\n    })();\n  }\n\n  register(email, password) {\n    return _asyncToGenerator(function* () {\n      return yield axios.post(`${API}/register`, {\n        email,\n        password\n      });\n    })();\n  }\n\n  getToken() {\n    return localStorage.getItem(this.tokenKey);\n  }\n\n  logout() {\n    localStorage.removeItem(this.tokenKey);\n  }\n\n  isLoggedIn() {\n    return !!this.getToken();\n  }\n\n}\n\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)();\n};\n\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/Hp/Desktop/Customer Management/consumer_frontend/src/app/auth/auth.service.ts"],"names":["axios","i0","API","AuthService","constructor","tokenKey","login","email","password","res","post","localStorage","setItem","data","token","register","getToken","getItem","logout","removeItem","isLoggedIn","ɵfac","AuthService_Factory","t","ɵprov","ɵɵdefineInjectable","factory","providedIn"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,MAAMC,GAAG,GAAG,gCAAZ;AACA,OAAO,MAAMC,WAAN,CAAkB;AACrBC,EAAAA,WAAW,GAAG;AACV,SAAKC,QAAL,GAAgB,OAAhB;AACH;;AACKC,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AAAA;;AAAA;AACzB,YAAMC,GAAG,SAAST,KAAK,CAACU,IAAN,CAAY,GAAER,GAAI,QAAlB,EAA2B;AAAEK,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAA3B,CAAlB;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAAI,CAACP,QAA1B,EAAoCI,GAAG,CAACI,IAAJ,CAASC,KAA7C;AACA,aAAOL,GAAG,CAACI,IAAX;AAHyB;AAI5B;;AACKE,EAAAA,QAAQ,CAACR,KAAD,EAAQC,QAAR,EAAkB;AAAA;AAC5B,mBAAaR,KAAK,CAACU,IAAN,CAAY,GAAER,GAAI,WAAlB,EAA8B;AAAEK,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAA9B,CAAb;AAD4B;AAE/B;;AACDQ,EAAAA,QAAQ,GAAG;AACP,WAAOL,YAAY,CAACM,OAAb,CAAqB,KAAKZ,QAA1B,CAAP;AACH;;AACDa,EAAAA,MAAM,GAAG;AACLP,IAAAA,YAAY,CAACQ,UAAb,CAAwB,KAAKd,QAA7B;AACH;;AACDe,EAAAA,UAAU,GAAG;AACT,WAAO,CAAC,CAAC,KAAKJ,QAAL,EAAT;AACH;;AApBoB;;AAsBzBb,WAAW,CAACkB,IAAZ,GAAmB,SAASC,mBAAT,CAA6BC,CAA7B,EAAgC;AAAE,SAAO,KAAKA,CAAC,IAAIpB,WAAV,GAAP;AAAkC,CAAvF;;AACAA,WAAW,CAACqB,KAAZ,GAAoB,aAAcvB,EAAE,CAACwB,kBAAH,CAAsB;AAAEX,EAAAA,KAAK,EAAEX,WAAT;AAAsBuB,EAAAA,OAAO,EAAEvB,WAAW,CAACkB,IAA3C;AAAiDM,EAAAA,UAAU,EAAE;AAA7D,CAAtB,CAAlC","sourcesContent":["import axios from 'axios';\r\nimport * as i0 from \"@angular/core\";\r\nconst API = 'http://localhost:4000/api/auth';\r\nexport class AuthService {\r\n    constructor() {\r\n        this.tokenKey = 'token';\r\n    }\r\n    async login(email, password) {\r\n        const res = await axios.post(`${API}/login`, { email, password });\r\n        localStorage.setItem(this.tokenKey, res.data.token);\r\n        return res.data;\r\n    }\r\n    async register(email, password) {\r\n        return await axios.post(`${API}/register`, { email, password });\r\n    }\r\n    getToken() {\r\n        return localStorage.getItem(this.tokenKey);\r\n    }\r\n    logout() {\r\n        localStorage.removeItem(this.tokenKey);\r\n    }\r\n    isLoggedIn() {\r\n        return !!this.getToken();\r\n    }\r\n}\r\nAuthService.ɵfac = function AuthService_Factory(t) { return new (t || AuthService)(); };\r\nAuthService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AuthService, factory: AuthService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}