{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\Customer Management\\\\consumer_frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../address.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\n\nfunction AddressListComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function AddressListComponent_tr_21_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const a_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.editAddress(a_r1.id);\n    });\n    i0.ɵɵtext(13, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AddressListComponent_tr_21_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const a_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.deleteAddress(a_r1.id);\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const a_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.state);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.pin_code);\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/customers\", a1, \"addresses\", \"add\"];\n};\n\nexport class AddressListComponent {\n  constructor(route, router, service, toastr) {\n    this.route = route;\n    this.router = router;\n    this.service = service;\n    this.toastr = toastr;\n    this.addresses = [];\n    this.customerId = '';\n  }\n\n  ngOnInit() {\n    this.customerId = this.route.snapshot.params['customerId'];\n    this.loadAddresses();\n    console.log(this.customerId);\n  }\n\n  loadAddresses() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      try {\n        const res = yield _this.service.getAddresses(_this.customerId);\n        _this.addresses = res.data;\n      } catch (err) {\n        _this.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Failed to load addresses');\n      }\n    })();\n  }\n\n  editAddress(addressId) {\n    this.router.navigate([`/customers/${this.customerId}/addresses/edit/${addressId}`]);\n  }\n\n  deleteAddress(addressId) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b;\n\n      if (!confirm('Are you sure?')) return;\n\n      try {\n        yield _this2.service.deleteAddress(_this2.customerId, addressId);\n\n        _this2.toastr.success('Address deleted');\n\n        _this2.loadAddresses();\n      } catch (err) {\n        _this2.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Delete failed');\n      }\n    })();\n  }\n\n}\n\nAddressListComponent.ɵfac = function AddressListComponent_Factory(t) {\n  return new (t || AddressListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AddressService), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\n\nAddressListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddressListComponent,\n  selectors: [[\"app-address-list\"]],\n  decls: 22,\n  vars: 4,\n  consts: [[1, \"container\", \"mt-4\"], [1, \"btn\", \"btn-success\", \"mb-2\", 3, \"routerLink\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function AddressListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h3\");\n      i0.ɵɵtext(2, \"Addresses\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 1);\n      i0.ɵɵtext(4, \"Add Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"table\", 2);\n      i0.ɵɵelementStart(6, \"thead\");\n      i0.ɵɵelementStart(7, \"tr\");\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Label\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"City\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"State\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Pin Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Actions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, AddressListComponent_tr_21_Template, 16, 5, \"tr\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, ctx.customerId));\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.addresses);\n    }\n  },\n  directives: [i1.RouterLinkWithHref, i4.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGRyZXNzLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Hp/Desktop/Customer Management/consumer_frontend/src/app/addresses/address-list/address-list.component.ts"],"names":["i0","i1","i2","i3","i4","AddressListComponent_tr_21_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AddressListComponent_tr_21_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","a_r1","$implicit","ctx_r2","ɵɵnextContext","editAddress","id","AddressListComponent_tr_21_Template_button_click_14_listener","ctx_r4","deleteAddress","ɵɵadvance","ɵɵtextInterpolate","label","address","city","state","pin_code","_c0","a1","AddressListComponent","constructor","route","router","service","toastr","addresses","customerId","ngOnInit","snapshot","params","loadAddresses","console","log","_a","_b","res","getAddresses","data","err","error","response","message","addressId","navigate","confirm","success","ɵfac","AddressListComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","Router","AddressService","ToastrService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AddressListComponent_Template","ɵɵtemplate","ɵɵproperty","ɵɵpureFunction1","directives","RouterLinkWithHref","NgForOf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"../address.service\";\r\nimport * as i3 from \"ngx-toastr\";\r\nimport * as i4 from \"@angular/common\";\r\nfunction AddressListComponent_tr_21_Template(rf, ctx) { if (rf & 1) {\r\n    const _r3 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\");\r\n    i0.ɵɵelementStart(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"td\");\r\n    i0.ɵɵelementStart(12, \"button\", 4);\r\n    i0.ɵɵlistener(\"click\", function AddressListComponent_tr_21_Template_button_click_12_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const a_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.editAddress(a_r1.id); });\r\n    i0.ɵɵtext(13, \"Edit\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"button\", 5);\r\n    i0.ɵɵlistener(\"click\", function AddressListComponent_tr_21_Template_button_click_14_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const a_r1 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.deleteAddress(a_r1.id); });\r\n    i0.ɵɵtext(15, \"Delete\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const a_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(a_r1.label);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(a_r1.address);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(a_r1.city);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(a_r1.state);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(a_r1.pin_code);\r\n} }\r\nconst _c0 = function (a1) { return [\"/customers\", a1, \"addresses\", \"add\"]; };\r\nexport class AddressListComponent {\r\n    constructor(route, router, service, toastr) {\r\n        this.route = route;\r\n        this.router = router;\r\n        this.service = service;\r\n        this.toastr = toastr;\r\n        this.addresses = [];\r\n        this.customerId = '';\r\n    }\r\n    ngOnInit() {\r\n        this.customerId = this.route.snapshot.params['customerId'];\r\n        this.loadAddresses();\r\n        console.log(this.customerId);\r\n    }\r\n    async loadAddresses() {\r\n        var _a, _b;\r\n        try {\r\n            const res = await this.service.getAddresses(this.customerId);\r\n            this.addresses = res.data;\r\n        }\r\n        catch (err) {\r\n            this.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Failed to load addresses');\r\n        }\r\n    }\r\n    editAddress(addressId) {\r\n        this.router.navigate([`/customers/${this.customerId}/addresses/edit/${addressId}`]);\r\n    }\r\n    async deleteAddress(addressId) {\r\n        var _a, _b;\r\n        if (!confirm('Are you sure?'))\r\n            return;\r\n        try {\r\n            await this.service.deleteAddress(this.customerId, addressId);\r\n            this.toastr.success('Address deleted');\r\n            this.loadAddresses();\r\n        }\r\n        catch (err) {\r\n            this.toastr.error(((_b = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || 'Delete failed');\r\n        }\r\n    }\r\n}\r\nAddressListComponent.ɵfac = function AddressListComponent_Factory(t) { return new (t || AddressListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AddressService), i0.ɵɵdirectiveInject(i3.ToastrService)); };\r\nAddressListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AddressListComponent, selectors: [[\"app-address-list\"]], decls: 22, vars: 4, consts: [[1, \"container\", \"mt-4\"], [1, \"btn\", \"btn-success\", \"mb-2\", 3, \"routerLink\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]], template: function AddressListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"h3\");\r\n        i0.ɵɵtext(2, \"Addresses\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"a\", 1);\r\n        i0.ɵɵtext(4, \"Add Address\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"table\", 2);\r\n        i0.ɵɵelementStart(6, \"thead\");\r\n        i0.ɵɵelementStart(7, \"tr\");\r\n        i0.ɵɵelementStart(8, \"th\");\r\n        i0.ɵɵtext(9, \"Label\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"th\");\r\n        i0.ɵɵtext(11, \"Address\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"th\");\r\n        i0.ɵɵtext(13, \"City\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"th\");\r\n        i0.ɵɵtext(15, \"State\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"th\");\r\n        i0.ɵɵtext(17, \"Pin Code\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"th\");\r\n        i0.ɵɵtext(19, \"Actions\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"tbody\");\r\n        i0.ɵɵtemplate(21, AddressListComponent_tr_21_Template, 16, 5, \"tr\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, ctx.customerId));\r\n        i0.ɵɵadvance(18);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.addresses);\r\n    } }, directives: [i1.RouterLinkWithHref, i4.NgForOf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGRyZXNzLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}